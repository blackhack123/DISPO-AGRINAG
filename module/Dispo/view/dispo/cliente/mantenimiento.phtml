
<script>
	$(document).ready(function () {
		InputData_TrimAll();
	/*	InputData_initNumberAndDecimal();*/
		InputData_initNumberNoDecimal();
	
	
		$('table').tablesorter(); //Columna de Sueldo
		$("table").stickyTableHeaders();
	
		
		$("#dialog_mantenimiento").draggable({
		    handle: ".modal-header"
		}); 
		dialog_nueva_marcacion
		$("#dialog_nueva_marcacion").draggable({
		    handle: ".modal-header"
		}); 
		
		$("#btn_consultar").on('click', function(event){ 
			$("#frm").submit();
			return false;
		});

		$("#btn_nuevo").on('click', function(event){
			nuevo(); 
			return false;
		});    

		$("#btn_grabar_informacion_general").on('click', function(event){ 
			grabar_informacion_general();
			return false;
		});   
		
	
		$("#frm_marcacion_listado #btn_consultar").on('click', function(event){    
			listar_marcacion(false);
		});
		
		
		$("#frm_marcacion_listado #btn_nueva_marcacion").on('click', function(event){
			nuevamarcacion(); 
			return false;
		});
	
	
		$("#frm_marcacion #btn_grabar_marcacion").on('click', function(event){ 
			grabar_marcacion();
			return false;
		});    
		
	
		$("#btn_nueva_agencia_carga").on('click', function(event){
			nueva_agencia_carga(); 
			return false;
		});
	
	
		$("#btn_grabar_agencia_carga").on('click', function(event){ 
			grabar_agencia_carga();
			return false;
		});     
	
		$("#frm_agenciacarga_listado #btn_consultar_agencia").on('click', function(event){    
			listar_agenciacarga(false);
		});
		
		$("#frm_usuario_listado #btn_nuevo_usuario").on('click', function(event){
			nuevo_usuario(); 
			return false;
		});
	
	
		$("#frm_nuevo_usuario #btn_grabar_usuario").on('click', function(event){ 
			grabar_usuario();
			return false;
		});     


		$("#frm_usuario_listado #btn_consultar_usuario").on('click', function(event){    
			listar_usuario(false);
		});

		$(".btn_editar_usuario").on('click', function(event){ 
			var tr 						= $(this).closest('tr');
			var id						= tr.attr('id');
	
			consultar_usuario(id);
			//$("#dialog_mantenimiento").modal('show') 
		});
	
	  
		$(".btn_edit").on('click', function(event){ 
			var tr 						= $(this).closest('tr');
			var cliente_id 				= tr.attr('cliente_id');
	
			consultar_cliente(cliente_id);
			//$("#dialog_mantenimiento").modal('show') 
		});


		$(".btn_editar_marcacion").on('click', function(event){ 
			var tr 						= $(this).closest('tr');
			var marcacion_sec 			= tr.attr('marcacion_sec');
	
			consultar_marcacion(marcacion_sec);
			//$("#dialog_mantenimiento").modal('show') 
		});

		$(".btn_editar_agenciacarga").on('click', function(event){ 
			var tr 						= $(this).closest('tr');
			var id						= tr.attr('id');
	
			consultar_agenciacarga(id);
			//$("#dialog_mantenimiento").modal('show') 
		});
	
	
		
		$("#tbl_registros tbody tr").on('dblclick', function(event){ 
			var tr 						= $(this).closest('tr');
			var cliente_id 				= tr.attr('cliente_id');
	
			consultar_cliente(cliente_id);
			//$("#dialog_mantenimiento").modal('show') 
		});	

	
		
		/*---------------------------------------------------------------*/
		/*-----------------Se configura los JQGRID's---------------------*/
		/*---------------------------------------------------------------*/		
		jQuery("#grid_marcacion_listado").jqGrid({
			url:'<?php echo($this->basePath()); ?>/dispo/marcacion/listadodata',
			postData: {
				cliente_id: function()   { return $("#frm_informacion_general #cliente_id").val(); }, 
				nombre: function()		 { return $("#frm_marcacion_listado #busqueda_nombre").val(); },
				estado: function() 		 { return $("#frm_marcacion_listado #busqueda_estado").val(); }				
			},
			datatype: "json",
			loadonce: true,		
			gridview:false,	
			/*height:'400',*/
			colNames:['','Código','Nombre','Pais','','Fec. Ultima Vez','Estado', ''],
			colModel:[
				{name:'seleccion',index:'', width:50,  formatter: 'checkbox', align: 'center',editable: true, formatoptions: {disabled : false}, editoptions: {value:"1:0" },editrules:{required:false}},
				{name:'marcacion_sec',index:'marcacion_sec', width:50, align:"center", sorttype:"int"},
				{name:'nombre',index:'nombre', width:230, sorttype:"string"},
				{name:'pais_nombre',index:'pais_nombre', width:150, sorttype:"string"},	
				{name:'sincronizado',index:'sincronizado', width:30, align:"center", sorttype:"number", formatter: ListadoMarcacion_FormatterSincronizado},
				{name:'fec_sincronizado',index:'fec_sincronizado', width:130, sorttype:"string", align:"center"},
				{name:'estado',index:'estado', width:60, sorttype:"string", align:"center"},
				{name:'btn_editar_marcacion',index:'', width:30, align:"center", formatter:ListadoMarcacion_FormatterEdit,
				   cellattr: function () { return ' title=" Modificar"'; }
				},
			],
			rowNum:999999999,
			pager: '#pager_marcacion_listado',
			toppager:false,
			pgbuttons:false,
			pginput:false,
			rowList:false,
			jsonReader: {
				repeatitems : false,
			},		
			/*caption:"Grilla de Prueba",*/
			afterInsertRow : function(rowid, rowdata){
				//console.log('rowdata:',rowdata);
				if (rowdata.estado == "I"){
					$(this).jqGrid('setRowData', rowid, false, {color:'red'});
				}//end if
			},
			ondblClickRow: function (rowid,iRow,iCol,e) {
					var data = $('#grid_marcacion_listado').getRowData(rowid);				
					consultar_marcacion(data.marcacion_sec)
				//	return false;
			},
			loadBeforeSend: function (xhr, settings) {
				this.p.loadBeforeSend = null; //remove event handler
				return false; // dont send load data request
			},				
			loadError: function (jqXHR, textStatus, errorThrown) {
				message_error('ERROR','HTTP message body (jqXHR.responseText): ' + '<br>' + jqXHR.responseText);
			}
		}).navGrid();

		$('#grid_marcacion_listado').setGroupHeaders(
		{
			useColSpanStyle: true,
			groupHeaders: [{ "numberOfColumns": 2, "titleText": "Sincronizacion", "startColumnName": "sincronizado" }]
		});		
		
		//Se configura el grid para que pueda navegar procesar la fila con el ENTER
		jQuery("#grid_marcacion_listado").jqGrid('bindKeys', {
			   "onEnter" : function( rowid ) { 
					//consultar_listado(rowid);
					var data = $('#grid_marcacion_listado').getRowData(rowid);
					consultar_listado("+data.marcacion_sec+");
			   }
		});
	
	
		function ListadoMarcacion_FormatterEdit(cellvalue, options, rowObject){
			var marcacion_sec = rowObject.marcacion_sec;	
			//new_format_value = '<a href="javascript:void(0)" onclick="consultar_listado(\''+marcacion_sec+'\')"><img src="<?php echo($this->basePath()); ?>/images/edit.png" border="0" /></a> ';
			new_format_value = '<a href="javascript:void(0)" onclick="consultar_marcacion(\''+marcacion_sec+'\')"><i class="glyphicon glyphicon-pencil" style="color:orange" id="btn_editar_marcacion" ></i></a>'; 
			return new_format_value
		}//end function ListadoMarcacion_FormatterSincronizado

		
		function ListadoMarcacion_FormatterSincronizado(cellvalue, options, rowObject){	
			switch (rowObject.sincronizado)
			{
			case '0':
				new_format_value = '<span class="glyphicon glyphicon-time icon-white" style="color:red">'; 
				break;
			case '1':
				new_format_value = '<i class="glyphicon glyphicon-ok icon-white" style="color:green">';
				break;
			default :
				new_format_value = '<span class="glyphicon glyphicon-time icon-white" style="color:red">'; 
				break;
			}//end switch
			return new_format_value;
		}//end function ListadoMarcacion_FormatterSincronizado		
		jQuery("#grid_marcacion_listado").jqGrid('navGrid','#pager_marcacion_listado',{edit:false,add:false,del:false});

		/*---------------------------------------------------------------*/	
		/*---------------------------------------------------------------*/


		/*---------------------------------------------------------------*/
		/*-----------------Se configura los JQGRID's AG. CARGA-----------*/
		/*---------------------------------------------------------------*/		
		jQuery("#grid_agenciacarga_listado").jqGrid({
			url:'<?php echo($this->basePath()); ?>/dispo/agenciacarga/agencialistadodata',
			postData: {
				nombre: function() { return $("#frm_agenciacarga_listado #busqueda_nombre").val(); },
				estado: function() { return $("#frm_agenciacarga_listado #busqueda_estado").val(); }				
			},
			datatype: "json",
			loadonce: true,			
			/*height:'400',*/
			colNames:['','Código','Nombre','Telefono','Tipo','','Fec. Ultima Vez','Estado', ''],
			colModel:[
				{name:'seleccion',index:'', width:50,  formatter: 'checkbox', align: 'center',editable: true, formatoptions: {disabled : false}, editoptions: {value:"1:0" },editrules:{required:false}},
				{name:'id',index:'id', width:50, align:"center", sorttype:"int"},
				{name:'nombre',index:'nombre', width:230, sorttype:"string"},
				{name:'telefono',index:'telefono', width:100, sorttype:"string"},	
				{name:'tipo',index:'tipo', width:80, sorttype:"string", align: 'center',formatter:gridAgenciacargaListado_FormatterTipo },	
				{name:'sincronizado',index:'sincronizado', width:30, align:"center", sorttype:"number", formatter: gridAgenciacargaListado_FormatterSincronizado},
				{name:'fec_sincronizado',index:'fec_sincronizado', width:130, sorttype:"string", align:"center"},
				{name:'estado',index:'estado', width:60, sorttype:"string", align:"center"},
				{name:'btn_editar_agenciacarga',index:'', width:30, align:"center", formatter: gridAgenciacargaListado_FormatterEdit,
				   cellattr: function () { return ' title=" Modificar"'; }
				},
			],
			rowNum:999999,
			pager: '#pager_agenciacarga_listado',
			toppager:false,
			pgbuttons:false,
			pginput:false,
			rowList:false,
			gridview:false,	
			jsonReader: {
				repeatitems : false,
			},		
			/*caption:"Grilla de Prueba",*/
			afterInsertRow : function(rowid, rowdata){
				//console.log('rowdata',rowdata);
				if (rowdata.estado == "I"){
					$(this).jqGrid('setRowData', rowid, true, {color:'red'});
				}//end if
			},
			ondblClickRow: function (rowid,iRow,iCol,e) {
					var data = $('#grid_agenciacarga_listado').getRowData(rowid);				
					consultar_agenciacarga(data.id)
					//return false;
			},
			loadBeforeSend: function (xhr, settings) {
				this.p.loadBeforeSend = null; //remove event handler
				return false; // dont send load data request
			},				
			loadError: function (jqXHR, textStatus, errorThrown) {
				message_error('ERROR','HTTP message body (jqXHR.responseText): ' + '<br>' + jqXHR.responseText);
			}
		});
			

		$('#grid_agenciacarga_listado').setGroupHeaders(
		{
			useColSpanStyle: true,
			groupHeaders: [{ "numberOfColumns": 2, "titleText": "Sincronizacion", "startColumnName": "sincronizado" }]
		});		
		
		//Se configura el grid para que pueda navegar procesar la fila con el ENTER
		jQuery("#grid_agenciacarga_listado").jqGrid('bindKeys', {
			   "onEnter" : function( rowid ) { 
					//consultar_listado(rowid);
					var data = $('#grid_agencia_listado').getRowData(rowid);
					consultar_listado("+data.id+");
			   }
		});
	
	
		function gridAgenciacargaListado_FormatterEdit(cellvalue, options, rowObject){
			var id = rowObject.id;	
			//new_format_value = '<a href="javascript:void(0)" onclick="consultar_listado(\''+agenciacarga_sec+'\')"><img src="<?php echo($this->basePath()); ?>/images/edit.png" border="0" /></a> ';
			new_format_value = '<a href="javascript:void(0)" onclick="consultar_agenciacarga(\''+id+'\')"><i class="glyphicon glyphicon-pencil" style="color:orange" id="btn_editar_agenciacarga" ></i></a>'; 
			return new_format_value
		}//end function ListadoMarcacion_FormatterSincronizado

		
		function gridAgenciacargaListado_FormatterSincronizado(cellvalue, options, rowObject){	
			switch (rowObject.sincronizado)
			{
			case '0':
				new_format_value = '<span class="glyphicon glyphicon-time icon-white" style="color:red">'; 
				break;
			case '1':
				new_format_value = '<i class="glyphicon glyphicon-ok icon-white" style="color:green">';
				break;
			default :
				new_format_value = '<span class="glyphicon glyphicon-time icon-white" style="color:red">'; 
				break;
			}//end switch
			return new_format_value;
		}//end function ListadoMarcacion_FormatterSincronizado	


		function gridAgenciacargaListado_FormatterTipo(cellvalue, options, rowObject){	
			switch (rowObject.tipo)
			{
			case "A":
				new_format_value = 'AGENCIA'; 
				break;
			case "B":
				new_format_value = 'AMBAS';
				break;
			case "C":
				new_format_value = 'CUARTO FRIO';
				break;
			default :
				new_format_value = 'AGENCIA'; 
				break;
			}//end switch
			return new_format_value;
		}//end function ListadoMarcacion_FormatterSincronizado	
		

		jQuery("#grid_agenciacarga_listado").jqGrid('navGrid','#pager_agenciacarga_listado',{edit:false,add:false,del:false});

		/*---------------------------------------------------------------*/	
		/*---------------------------------------------------------------*/
		

		/*---------------------------------------------------------------*/
		/*-----------------Se configura los JQGRID's USUARIOS------------*/
		/*---------------------------------------------------------------*/		
		jQuery("#grid_usuario_listado").jqGrid({
			url:'<?php echo($this->basePath()); ?>/seguridad/usuario/listadodata',
			postData: {
				nombre: function()		 { return $("#frm_usuario_listado #busqueda_nombre").val(); },
				estado: function() 		 { return $("#frm_usuario_listado #busqueda_estado").val(); }				
			},
			datatype: "json",
			loadonce: true,		
			gridview:false,	
			/*height:'400',*/
			colNames:['','Código','Nombre','Usuario','Email','Estado', ''],
			colModel:[
				{name:'seleccion',index:'', width:50,  formatter: 'checkbox', align: 'center',editable: true, formatoptions: {disabled : false}, editoptions: {value:"1:0" },editrules:{required:false}},
				{name:'id',index:'marcacion_sec', width:50, align:"center", sorttype:"int"},
				{name:'nombre',index:'nombre', width:230, sorttype:"string"},
				{name:'username',index:'username', width:150, sorttype:"string"},	
				{name:'email',index:'email', width:150, sorttype:"string"},	
				//{name:'sincronizado',index:'sincronizado', width:30, align:"center", sorttype:"number", formatter: ListadoUsuario_FormatterSincronizado},
				//{name:'fec_sincronizado',index:'fec_sincronizado', width:130, sorttype:"string", align:"center"},
				{name:'estado',index:'estado', width:60, sorttype:"string", align:"center"},
				{name:'btn_editar_usuario',index:'', width:30, align:"center", formatter:ListadoUsuario_FormatterEdit,
				   cellattr: function () { return ' title=" Modificar"'; }
				},
			],
			rowNum:999999999,
			pager: '#pager_usuario_listado',
			toppager:false,
			pgbuttons:false,
			pginput:false,
			rowList:false,
			jsonReader: {
				repeatitems : false,
			},		
			/*caption:"Grilla de Prueba",*/
			afterInsertRow : function(rowid, rowdata){
				//console.log('rowdata:',rowdata);
				if (rowdata.estado == "I"){
					$(this).jqGrid('setRowData', rowid, false, {color:'red'});
				}//end if
			},
			ondblClickRow: function (rowid,iRow,iCol,e) {
					var data = $('#grid_usuario_listado').getRowData(rowid);				
					consultar_usuario(data.id)
				//	return false;
			},
			loadBeforeSend: function (xhr, settings) {
				this.p.loadBeforeSend = null; //remove event handler
				return false; // dont send load data request
			},				
			loadError: function (jqXHR, textStatus, errorThrown) {
				message_error('ERROR','HTTP message body (jqXHR.responseText): ' + '<br>' + jqXHR.responseText);
			}
		}).navGrid();

	/*	$('#grid_usuario_listado').setGroupHeaders(
		{
			useColSpanStyle: true,
			groupHeaders: [{ "numberOfColumns": 2, "titleText": "Sincronizacion", "startColumnName": "sincronizado" }]
		});		*/
		
		//Se configura el grid para que pueda navegar procesar la fila con el ENTER
		jQuery("#grid_usuario_listado").jqGrid('bindKeys', {
			   "onEnter" : function( rowid ) { 
					//consultar_listado(rowid);
					var data = $('#grid_usuario_listado').getRowData(rowid);
					consultar_listado("+data.id+");
			   }
		});
	
	
		function ListadoUsuario_FormatterEdit(cellvalue, options, rowObject){
			var id = rowObject.id;	
			//new_format_value = '<a href="javascript:void(0)" onclick="consultar_listado(\''+marcacion_sec+'\')"><img src="<?php echo($this->basePath()); ?>/images/edit.png" border="0" /></a> ';
			new_format_value = '<a href="javascript:void(0)" onclick="consultar_usuario(\''+id+'\')"><i class="glyphicon glyphicon-pencil" style="color:orange" id="btn_editar_usuario" ></i></a>'; 
			return new_format_value
		}//end function ListadoMarcacion_FormatterSincronizado

		
		function ListadoUsuario_FormatterSincronizado(cellvalue, options, rowObject){	
			switch (rowObject.sincronizado)
			{
			case '0':
				new_format_value = '<span class="glyphicon glyphicon-time icon-white" style="color:red">'; 
				break;
			case '1':
				new_format_value = '<i class="glyphicon glyphicon-ok icon-white" style="color:green">';
				break;
			default :
				new_format_value = '<span class="glyphicon glyphicon-time icon-white" style="color:red">'; 
				break;
			}//end switch
			return new_format_value;
		}//end function ListadoMarcacion_FormatterSincronizado		
		jQuery("#grid_usuario_listado").jqGrid('navGrid','#pager_usuario_listado',{edit:false,add:false,del:false});

		/*---------------------------------------------------------------*/	
		/*---------------------------------------------------------------*/
	
		
		
	});//$(document).ready



/**
 * ----------------------------------------------------------------------
 * 		FUNCIONES DEL CLIENTE (INFORMACION GENERAL)
 *-----------------------------------------------------------------------
 */
    
	function nuevo()
	{
		//Deshabilita los tabs excepto el primer TAB
		$("#tabs_mantenimiento_cliente ul li:gt(0)").addClass('disabled').addClass('disabledTab');
	
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/dispo/cliente/nuevodata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){		
									//ValidateControlsInit();
								
								$("#accion").val("I");
								$("#dialog_mantenimiento_cliente_nombre").html("NUEVO REGISTRO");

								$('#myTabs a[href="#tab_informacion_general"]').tab('show') // Select tab by nombre
								$("#cliente_id").val('');
								$("#cliente_id").prop('readonly',false);
								$("#nombre").val('');
								$("#direccion").val('');
								$("#pais_id").html(response.cbo_pais_id);
								$("#ciudad").val('');
								$("#telefono1").val('');
								$("#telefono2").val('');
								$("#fax1").val('');
								$("#fax2").val('');
								$("#email").val('');
								$("#grupo_precio_cab_id").html(response.cbo_grupo_precio);
								$("#estado").html(response.cbo_estado);
								$("#lbl_fec_sincronizado").html('');
								$("#lbl_usuario_ing").html('');
								$("#lbl_fec_ingreso").html('');
								$("#lbl_usuario_mod").html('');
								$("#lbl_fec_modifica").html('');
								$("#sincronizado_pendiente").show();
								$("#sincronizado_ok").hide();
								
								$("#dialog_mantenimiento").modal('show');
							 }							
				           }
		response = ajax_call(parameters, data);		
		return false;	
										
	}//end function nuevo

	
	
	function listar_marcacion(limpiar_filtros)
	{
		$('#frm_marcacion_listado #grid_marcacion_listado').jqGrid("clearGridData");
		
		if (limpiar_filtros==true)
		{
			$("#frm_marcacion_listado #busqueda_nombre").val("");
			$("#frm_marcacion_listado #busqueda_estado").val("");
		}//end if
		
		$('#frm_marcacion_listado #grid_marcacion_listado').jqGrid("setGridParam",{datatype:"json"}).trigger("reloadGrid");
	}//end function listar_marcacion



	 function grabar_informacion_general()
	 	{
			if (!ValidateControls('frm_informacion_general')) 
				{
				return false;
				}
			$("#tabs_mantenimiento_cliente ul li").removeClass('disabled',false).removeClass('disabledTab',false);
			//Se llama mediante AJAX para adicionar al carrito de compras
			var data = 	{	accion: $("#accion").val(),
						 	cliente_id: $("#cliente_id").val(),
						 	nombre: $("#nombre").val(),
						 	direccion: $("#direccion").val(),
						 	pais_id: $("#pais_id").val(),
						 	ciudad: $("#ciudad").val(),
						 	telefono1: $("#telefono1").val(),
							telefono2: $("#telefono2").val(),
							fax1: $("#fax1").val(),
							fax2:$("#fax2").val(),
							email:$("#email").val(),
							grupo_precio_cab_id:$("#grupo_precio_cab_id").val(),
							estado: $("#estado").val(),
						}
			data = JSON.stringify(data);
			
			var parameters = {	'type': 'POST',//'POST',
								'contentType': 'application/json',
								'url':'<?php echo($this->basePath()); ?>/dispo/cliente/grabardata',
								'control_process':true,
								'show_cargando':true,
								'finish':function(response){
										if (response.validacion_code == 'OK')
										{
											mostrar_registro(response)
											cargador_visibility('hide');
											swal({  title: "Informacion grabada con exito!!",   
												//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
												//html:true,
												type: "success",
												showCancelButton: false,
												confirmButtonColor: "#DD6B55",
												confirmButtonText: "OK",
												cancelButtonText: "",
												closeOnConfirm: false,
												closeOnCancel: false,
												/*timer: 2000*/
											});
										}else{
											swal({title: response.respuesta_mensaje,   
												//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
												//html:true,
												type: "error",
												showCancelButton: false,
												confirmButtonColor: "#DD6B55",
												confirmButtonText: "OK",
												cancelButtonText: "",
												closeOnConfirm: false,
												closeOnCancel: false,
												/*timer: 2000*/
											});
										
										}//end if									
								}							
			                 }
			response = ajax_call(parameters, data);		
			return false;		
		}//end function grabar



		function mostrar_registro(response)
		{
			var row = response.row;
			if (row!==null)
			{
			//	ValidateControlsInit();
				$("#accion").val("M");			
				$("#dialog_mantenimiento_cliente_nombre").html(row.nombre);
				$("#cliente_id").val(row.id);
				$("#cliente_id").prop('readonly',true);
				$("#nombre").val(row.nombre);
				$("#direccion").val(row.direccion);
				$("#pais_id").html(response.cbo_pais_id);
				$("#ciudad").val(row.ciudad);
				$("#telefono1").val(row.telefono1);
				$("#telefono2").val(row.telefono2);
				$("#fax1").val(row.fax1);
				$("#fax2").val(row.fax2);
				$("#email").val(row.email);
				$("#grupo_precio_cab_id").html(response.cbo_grupo_precio);
				$("#estado").html(response.cbo_estado);
				$("#lbl_fec_ingreso").html(row.fec_ingreso);
				$("#lbl_fec_modifica").html(row.fec_modifica);
				$("#lbl_usuario_ing").html(row.usuario_ing_user_name);
				$("#lbl_usuario_mod").html(row.usuario_mod_user_name);
				$("#lbl_fec_sincronizado").html(row.fec_sincronizado);
				
				
				
				
				if (row.sincronizado==1)
				{
					$("#sincronizado_pendiente").hide();
					$("#sincronizado_ok").show();
				}else{
					$("#sincronizado_pendiente").show();
					$("#sincronizado_ok").hide();
				}//end if
			}//end if
		}//end function mostrar_registro
			




		function consultar_cliente(id)
		{
			//Habilita todos los TABS
			$("#tabs_mantenimiento_cliente ul li").removeClass('disabled').removeClass('disabledTab');
		
			//Se llama mediante AJAX para adicionar al carrito de compras
			var data = 	{cliente_id:id}
			data = JSON.stringify(data);
			
			var parameters = {	'type': 'POST',//'POST',
								'contentType': 'application/json',
								'url':'<?php echo($this->basePath()); ?>/dispo/cliente/consultardata',
								'control_process':true,
								'show_cargando':true,
								'finish':function(response){
										mostrar_registro(response);
										listar_marcacion(true);
										cargador_visibility('hide');

										$("#dialog_mantenimiento").modal('show')
								}							
			                 }
			response = ajax_call(parameters, data);		
			return false;		
		}//end function consultar_cliente

		
/**
 * ---------------------------------------------------------------------------------------------
 *			FUNCIONES MARCACION
 *---------------------------------------------------------------------------------------------
 */

	function nuevamarcacion()
	{
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{}
		data = JSON.stringify(data);
		
		var parameters={	'type': 'POST',//'POST',
				'contentType': 'application/json',
				'url':'<?php echo($this->basePath()); ?>/dispo/cliente/marcacionnuevodata',
				'control_process':true,
				'show_cargando':true,
				'finish':function(response){
						//ValidateControlsInit();
						$("#frm_marcacion #accion").val("I");
						$("#dialog_nueva_marcacion_nombre").html("NUEVO REGISTRO");

						$("#marcacion_sec").val('');
						$("#frm_marcacion #cliente_id").val($("#frm_informacion_general #cliente_id").val());
						$("#frm_marcacion #cliente_id").prop('readonly',true);
						$("#frm_marcacion #nombre").val('');
						$("#frm_marcacion #direccion").val('');
						$("#frm_marcacion #pais_id").html(response.cbo_pais_id);
						$("#frm_marcacion #ciudad").val('');
						$("#frm_marcacion #contacto").val('');
						$("#frm_marcacion #telefono").val('');
						$("#frm_marcacion #zip").val('');
						$("#frm_marcacion #estado").html(response.cbo_estado);
						$("#frm_marcacion #lbl_fec_sincronizado").html('');
						$("#frm_marcacion #lbl_usuario_ing").html('');
						$("#frm_marcacion #lbl_fec_ingreso").html('');
						$("#frm_marcacion #lbl_usuario_mod").html('');
						$("#frm_marcacion #lbl_fec_modifica").html('');
						$("#frm_marcacion #sincronizado_pendiente").show();
						$("#frm_marcacion #sincronizado_ok").hide();
						
						$("#dialog_nueva_marcacion").modal('show');
						}							
	                 }
		response = ajax_call(parameters, data);		
		return false;	
									
	}//end function nuevo




	function grabar_marcacion()
	 	{
			if (!ValidateControls('frm_marcacion')) {
				return false;
			}

			//Se llama mediante AJAX para adicionar al carrito de compras
			var data = 	{	accion: $("#frm_marcacion #accion").val(),
						 	marcacion_sec: $("#frm_marcacion #marcacion_sec").val(),
						 	cliente_id: $("#frm_marcacion #cliente_id").val(),
						 	nombre: $(" #frm_marcacion #nombre").val(),
						 	direccion: $(" #frm_marcacion #direccion").val(),
						 	ciudad: $("#frm_marcacion #ciudad").val(),
						 	pais_id: $("#frm_marcacion #pais_id").val(),
							contacto: $("#frm_marcacion #contacto").val(),
							telefono: $("#frm_marcacion #telefono").val(),
							zip:$("#frm_marcacion #zip").val(),
							estado: $("#frm_marcacion #estado").val(),
						}
			data = JSON.stringify(data);
			
			var parameters = {	'type': 'POST',//'POST',
								'contentType': 'application/json',
								'url':'<?php echo($this->basePath()); ?>/dispo/cliente/marcaciongrabardata',
								'control_process':true,
								'show_cargando':true,
								'finish':function(response){
										if (response.validacion_code == 'OK')
										{
											mostrar_registro_marcacion(response)
											cargador_visibility('hide');
											swal({  title: "Informacion grabada con exito!!",   
												//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
												//html:true,
												type: "success",
												showCancelButton: false,
												confirmButtonColor: "#DD6B55",
												confirmButtonText: "OK",
												cancelButtonText: "",
												closeOnConfirm: false,
												closeOnCancel: false,
												/*timer: 2000*/
											});
										}else{
											swal({title: response.respuesta_mensaje,   
												//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
												//html:true,
												type: "error",
												showCancelButton: false,
												confirmButtonColor: "#DD6B55",
												confirmButtonText: "OK",
												cancelButtonText: "",
												closeOnConfirm: false,
												closeOnCancel: false,
												/*timer: 2000*/
											});
										
										}									
								}							
			                 }
			response = ajax_call(parameters, data);		
			return false;		
		}//end function grabar
		



		function mostrar_registro_marcacion(response)
		{
			var row = response.row;
			if (row!==null)
			{
			//	ValidateControlsInit();
				$("#frm_marcacion #accion").val("M");			
				$("#dialog_nueva_marcacion_nombre").html(row.nombre);
				$("#frm_marcacion #marcacion_sec").val(row.marcacion_sec);
				$("#frm_marcacion #cliente_id").val(row.cliente_id);
				$("#frm_marcacion #cliente_id").prop('readonly',true);
				$("#frm_marcacion #nombre").val(row.nombre);
				$("#frm_marcacion #direccion").val(row.direccion);
				$("#frm_marcacion #pais_id").html(response.cbo_pais_id);
				$("#frm_marcacion #ciudad").val(row.ciudad);
				$("#frm_marcacion #contacto").val(row.contacto);
				$("#frm_marcacion #telefono").val(row.telefono);
				$("#frm_marcacion #zip").val(row.zip);
				$("#frm_marcacion #estado").html(response.cbo_estado);
				$("#frm_marcacion #lbl_fec_ingreso").html(row.fec_ingreso);
				$("#frm_marcacion #lbl_fec_modifica").html(row.fec_modifica);
				$("#frm_marcacion #lbl_usuario_ing").html(row.usuario_ing_user_name);
				$("#frm_marcacion #lbl_usuario_mod").html(row.usuario_mod_user_name);
				$("#frm_marcacion #lbl_fec_sincronizado").html(row.fec_sincronizado);
				
				if (row.sincronizado==1)
				{
					$("#frm_marcacion #sincronizado_pendiente").hide();
					$("#frm_marcacion #sincronizado_ok").show();
				}else{
					$("#frm_marcacion #sincronizado_pendiente").show();
					$("#frm_marcacion #sincronizado_ok").hide();
				}//end if
			}//end if
		}//end function mostrar_registro




		function consultar_marcacion(marcacion_sec)
		{
		
			//Se llama mediante AJAX para adicionar al carrito de compras
			var data = 	{marcacion_sec:marcacion_sec}
			data = JSON.stringify(data);
			
			var parameters = {	'type': 'POST',//'POST',
								'contentType': 'application/json',
								'url':'<?php echo($this->basePath()); ?>/dispo/cliente/marcacionconsultardata',
								'control_process':true,
								'show_cargando':true,
								'finish':function(response){
									mostrar_registro_marcacion(response);
									//	listar_marcacion(true);
										cargador_visibility('hide');
										
										$("#dialog_nueva_marcacion").modal('show')
								}							
			                 }
			response = ajax_call(parameters, data);		
			return false;
		}//end function consultar_marcacion
		
		
 /**
  * ---------------------------------------------------------------------------------------------
  *			FUNCIONES AGENCIA CARGA
  *---------------------------------------------------------------------------------------------
  */

  function nueva_agencia_carga()
	{
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/dispo/cliente/agenciacarganuevodata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){
									ValidateControlsInit();
									$("#frm_agencia_carga #accion").val("I");
									$("#dialog_nueva_agenciacarga_nombre").html("NUEVO REGISTRO");

									$("#agencia_carga_id").val('');
									$("#agencia_carga_id").prop('readonly',false);
									$("#nombre").val('');
									$("#direccion").val('');
									$("#telefono").val('');
									$("#frm_agencia_carga #tipo").html(response.cbo_tipo);
									$("#frm_agencia_carga #estado").html(response.cbo_estado);
									$("#lbl_fec_sincronizado").html('');
									$("#lbl_usuario_ing").html('');
									$("#lbl_fec_ingreso").html('');
									$("#lbl_usuario_mod").html('');
									$("#lbl_fec_modifica").html('');
									$("#sincronizado_pendiente").show();
									$("#sincronizado_ok").hide();
									
									$("#dialog_nueva_agenciacarga").modal('show')
							}							
		                 }
		response = ajax_call(parameters, data);		
		return false;				
	}//end function nuevo



  function grabar_agencia_carga(){
		if (!ValidateControls('frm_agencia_carga')) {
			return false;
		}//end FuncionGrabar
		
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{	accion: $("#frm_agencia_carga #accion").val(),
					 	id: $("#frm_agencia_carga #agencia_carga_id").val(),
					 	nombre: $("#frm_agencia_carga #nombre").val(),
					 	direccion: $("#frm_agencia_carga #direccion").val(),
					 	telefono: $("#frm_agencia_carga #telefono").val(),
					 	tipo: $("#frm_agencia_carga #tipo").val(),
					 	estado: $("#frm_agencia_carga #estado").val(),
					}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/dispo/cliente/agenciacargagrabardata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){
									if (response.validacion_code == 'OK')
									{
										mostrar_registro_agenciacarga(response)
										cargador_visibility('hide');
										swal({  title: "Informacion grabada con exito!!",   
											
											//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
											//html:true,
											type: "success",
											showCancelButton: false,
											confirmButtonColor: "#DD6B55",
											confirmButtonText: "OK",
											cancelButtonText: "",
											closeOnConfirm: false,
											closeOnCancel: false,
											/*timer: 2000*/
										});
									}else{
										swal({title: response.respuesta_mensaje,   
											//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
											//html:true,
											type: "error",
											showCancelButton: false,
											confirmButtonColor: "#DD6B55",
											confirmButtonText: "OK",
											cancelButtonText: "",
											closeOnConfirm: false,
											closeOnCancel: false,
											/*timer: 2000*/
										});
									
									}									
							}							
		                 }
		response = ajax_call(parameters, data);		
		return false;		
	}//end function grabar


	function consultar_agenciacarga(id)
	{
	
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{id:id}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/dispo/cliente/agenciacargaconsultardata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){
								mostrar_registro_agenciacarga(response);
								//	listar_marcacion(true);
									cargador_visibility('hide');
									
									$("#dialog_nueva_agenciacarga").modal('show')
							}							
		                 }
		response = ajax_call(parameters, data);		
		return false;
	}//end function consultar_agenciacarga

	

	function mostrar_registro_agenciacarga(response)
	{
		var row = response.row;
		if (row!==null)
		{
		//	ValidateControlsInit();
			$("#frm_agencia_carga #accion").val("M");			
			$("#dialog_nueva_agenciacarga_nombre").html(row.nombre);
			$("#frm_agencia_carga #agencia_carga_id").val(row.id);
			$("#frm_agencia_carga #agencia_carga_id").prop('readonly',true);
			$("#frm_agencia_carga #nombre").val(row.nombre);
			$("#frm_agencia_carga #direccion").val(row.direccion);
			$("#frm_agencia_carga #telefono").val(row.telefono);
			$("#frm_agencia_carga #tipo").html(response.cbo_tipo);
			$("#frm_agencia_carga #estado").html(response.cbo_estado);
			$("#frm_agencia_carga #lbl_fec_ingreso").html(row.fec_ingreso);
			$("#frm_agencia_carga #lbl_fec_modifica").html(row.fec_modifica);
			$("#frm_agencia_carga #lbl_usuario_ing").html(row.usuario_ing_user_name);
			$("#frm_agencia_carga #lbl_usuario_mod").html(row.usuario_mod_user_name);
			$("#frm_agencia_carga #lbl_fec_sincronizado").html(row.fec_sincronizado);
			
			
			
			
			if (row.sincronizado==1)
			{
				$("#frm_agencia_carga #sincronizado_pendiente").hide();
				$("#frm_agencia_carga #sincronizado_ok").show();
			}else{
				$("#frm_agencia_carga #sincronizado_pendiente").show();
				$("#frm_agencia_carga #sincronizado_ok").hide();
			}//end if
		}//end if
	}//end function mostrar_registro
	
	function listar_agenciacarga(limpiar_filtros)
	{
		$('#frm_agenciacarga_listado #grid_agenciacarga_listado').jqGrid("clearGridData");
		
		if (limpiar_filtros==true)
		{
			$("#frm_agenciacarga_listado #busqueda_nombre").val("");
			$("#frm_agenciacarga_listado #busqueda_estado").val("");
		}//end if
		
		$('#frm_agenciacarga_listado #grid_agenciacarga_listado').jqGrid("setGridParam",{datatype:"json"}).trigger("reloadGrid");
	}//end function listar_agenciacarga


	
 /**
  * ---------------------------------------------------------------------------------------------
  *			FUNCIONES USUARIO
  *---------------------------------------------------------------------------------------------
  */

	function nuevo_usuario()
	{
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/seguridad/usuario/nuevodata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){
									ValidateControlsInit();
									$("#frm_nuevo_usuario #accion").val("I");
									$("#dialog_nuevo_usuario_nombre").html("NUEVO REGISTRO");

									$(" #usuario_id").val('');
									$("#usuario_id").prop('readonly',false);
									$("#frm_nuevo_usuario #nombre").val('');
									$("#frm_nuevo_usuario #username").val('');
									$("#frm_nuevo_usuario #password").val('');
									$("#frm_nuevo_usuario #email").val('');
									$("#frm_nuevo_usuario #perfil_id").html(response.cbo_perfil_id);
									$("#frm_nuevo_usuario #estado").html(response.cbo_estado);
									$("#frm_nuevo_usuario #lbl_usuario_ing").html('');
									$("#frm_nuevo_usuario #lbl_fec_ingreso").html('');
									$("#frm_nuevo_usuario #lbl_usuario_mod").html('');
									$("#frm_nuevo_usuario #lbl_fec_modifica").html('');									
									$("#dialog_nuevo_usuario").modal('show')
							}							
		                 }
		response = ajax_call(parameters, data);		
		return false;				
	}//end function nuevo



	function ValidateControlAdicional()
	{
		//Validacion Customizada
		var valor1 = $("#frm_nuevo_usuario #password").val();
		var valor2 = $("#frm_nuevo_usuario #password2").val();
		var accion = $("#frm_nuevo_usuario #accion").val(); 

		if (accion == 'I'){
			if ($("#frm_nuevo_usuario #password").val()==''){
				mensaje = 'Debe ingresar una clave';
				return mensaje;
			}
			if ($("#frm_nuevo_usuario #password2").val()==''){
				mensaje = 'Debe ingresar la confirmacion de la clave';
				return mensaje;
			}//end if
		}//end if

		if ($("#frm_nuevo_usuario #password").val()!=''){
			if ($("#frm_nuevo_usuario #password").val() != $("#frm_nuevo_usuario #password2").val()){
				mensaje = 'La contraseña no coincide';
				return mensaje;
			}//end if
		}//end if
		if ($("#frm_nuevo_usuario #password2").val()!=''){
			if ($("#frm_nuevo_usuario #password").val() != $("#frm_nuevo_usuario #password2").val()){
				mensaje = 'La contraseña no coincide';
				return mensaje;
			}//end if
		}//end if

		return 'OK';
	}//end function ValidateControlAdicional


	function grabar_usuario(){

		if (!ValidateControls('frm_nuevo_usuario')) {
			return false;
		}//end FuncionGrabar

		var mensaje = ValidateControlAdicional();

		if (mensaje!='OK')
		{
			swal({  title: mensaje,   
				//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
				//html:true,
				type: "warning",
				showCancelButton: false,
				confirmButtonColor: "#DD6B55",
				confirmButtonText: "OK",
				cancelButtonText: "",
				closeOnConfirm: false,
				closeOnCancel: false,
				/*timer: 2000*/
			});			
			return false;
		}//end if
		
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{	accion: $("#frm_nuevo_usuario #accion").val(),
					 	id: $("#frm_nuevo_usuario #usuario_id").val(),
					 	nombre: $("#frm_nuevo_usuario #nombre").val(),
					 	username: $("#frm_nuevo_usuario #username").val(),					 	
					 	password: $("#frm_nuevo_usuario #password").val(),
					 	password2: $("#frm_nuevo_usuario #password2").val(),
					 	email: $("#frm_nuevo_usuario #email").val(),
					 	perfil_id: $("#frm_nuevo_usuario #perfil_id").val(),
					 	estado: $("#frm_nuevo_usuario #estado").val(),
					}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/seguridad/usuario/grabardata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){
									if (response.validacion_code == 'OK')
									{
										mostrar_registro_usuario(response)
										cargador_visibility('hide');
										swal({  title: "Informacion grabada con exito!!",   
											//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
											//html:true,
											type: "success",
											showCancelButton: false,
											confirmButtonColor: "#DD6B55",
											confirmButtonText: "OK",
											cancelButtonText: "",
											closeOnConfirm: false,
											closeOnCancel: false,
											/*timer: 2000*/
										});
									}else{
										swal({title: response.respuesta_mensaje,   
											//text: "Desea continuar utilizando la misma marcacion? Para seguir realizando mas pedidos",  
											//html:true,
											type: "error",
											showCancelButton: false,
											confirmButtonColor: "#DD6B55",
											confirmButtonText: "OK",
											cancelButtonText: "",
											closeOnConfirm: false,
											closeOnCancel: false,
											/*timer: 2000*/
										});
									
									}									
							}							
		                 }
		response = ajax_call(parameters, data);		
			
		return false;		
	}//end function grabar


	function mostrar_registro_usuario(response)
	{
		var row = response.row;
		if (row!==null)
		{
			ValidateControlsInit();
			$("#frm_nuevo_usuario #accion").val("M");			
			$("#frm_nuevo_usuario #dialog_mantenimiento_usuario_nombre").html(row.nombre);
			$("#frm_nuevo_usuario #usuario_id").val(row.id);
			$("#frm_nuevo_usuario #usuario_id").prop('readonly',true);
			$("#frm_nuevo_usuario #nombre").val(row.nombre);
			$("#frm_nuevo_usuario #username").val(row.username);
			$("#frm_nuevo_usuario #password").val('');
			$("#frm_nuevo_usuario #password2").val('');
			$("#frm_nuevo_usuario #email").val(row.email);
			$("#frm_nuevo_usuario #perfil_id").html(response.cbo_perfil_id);
			$("#frm_nuevo_usuario #estado").html(response.cbo_estado);
			$("#frm_nuevo_usuario #lbl_usuario_ing").html(row.usuario_ing_user_name);
			$("#frm_nuevo_usuario #lbl_fec_ingreso").html(row.fec_ingreso);
			$("#frm_nuevo_usuario #lbl_usuario_mod").html(row.usuario_mod_user_name);
			$("#frm_nuevo_usuario #lbl_fec_modifica").html(row.fec_modifica);

		}//end if
	}//end function mostrar_registro


	function consultar_usuario(id)
	{
	
		//Se llama mediante AJAX para adicionar al carrito de compras
		var data = 	{id:id}
		data = JSON.stringify(data);
		
		var parameters = {	'type': 'POST',//'POST',
							'contentType': 'application/json',
							'url':'<?php echo($this->basePath()); ?>/seguridad/usuario/consultardata',
							'control_process':true,
							'show_cargando':true,
							'finish':function(response){
								mostrar_registro_usuario(response);
								//	listar_marcacion(true);
									cargador_visibility('hide');
									
									$("#dialog_nuevo_usuario").modal('show')
							}							
		                 }
		response = ajax_call(parameters, data);		
		return false;
	}//end function consultar_marcacion
	


	
	function listar_usuario(limpiar_filtros)
	{
		$('#frm_usuario_listado #grid_usuario_listado').jqGrid("clearGridData");
		
		if (limpiar_filtros==true)
		{
			$("#frm_usuario_listado #busqueda_nombre").val("");
			$("#frm_usuario_listado #busqueda_estado").val("");
		}//end if
		
		$('#frm_usuario_listado #grid_usuario_listado').jqGrid("setGridParam",{datatype:"json"}).trigger("reloadGrid");
	}//end function listar_agenciacarga

	
</script>



<div class="title-admin-section">
	<h1>Cliente</h1>
</div>


<div class="table-container col-md-16 col-sm-16">
  <div class="clearfix">
        	<div class="pull-left">
            	<a id="btn_nuevo" class="btn btn-success btn" href="#"><i class="glyphicon glyphicon-plus icon-white"></i> Nuevo</a>
            </div>
        	<div class="pull-right">
            	<div class="form-inline">
                	<form id="frm" action="<?php echo($this->basePath()); ?>/dispo/cliente/mantenimiento" method="post" >
                    <input name="criterio_busqueda" type="text" class="select-class2" placeholder="Search" size="20" value="<?php echo($this->criterio_busqueda); ?>" />
                    <select  name="busqueda_estado" class="select-class2">
                        <?php echo($this->busqueda_estado); ?>
                    </select>
                    <select name="busqueda_sincronizado" class="select-class2">
                    	<?php echo($this->busqueda_sincronizado); ?>
                    </select>
                    <a id="btn_consultar" class="btn btn-small btn-success"  href="#" ><i class="glyphicon glyphicon-search icon-white"></i></a>
                    </form>
				</div>
            </div>
        </div>
				<table id="tbl_registros" class="clear table-head table-dispo tablesorter tableinit tablesorter_numberrow">
		<thead>
				<tr>
				  <th  width="50" rowspan="2" class="th-inner">&nbsp;</th>
					<th  width="100" rowspan="2" class="th-inner">ID</th>				
					<th  width="0" rowspan="2" class="th-inner">NOMBRE</th>
					<th  width="0" rowspan="2" class="th-inner">DIRECCION</th>
					<th  width="150" rowspan="2" class="th-inner">PAIS</th>
					<th  width="150" rowspan="2" class="th-inner">TELEFONO</th>
					<th  width="70" colspan="2" class="th-inner">SINCRONIZACION</th>					
					<th  width="70" rowspan="2" class="th-inner">ESTADO</th>
					<th  width="70" rowspan="2" class="th-inner">&nbsp;</th>
				</tr>
				<tr>
				  <th  width="70" class="th-inner">&nbsp;</th>
				  <th class="th-inner">FEC. ULTIMA VEZ</th>
		      </tr>
			</thead>
			<tbody class="searchable" style="border: 1px solid #cdcdcd;">
<?php  
		$i=0;
		foreach($this->result as $reg)
		{
			$i++;
			$class_row = '';
			if ($reg['estado']=='I'){
				$class_row = 'row_estado_inactivo';
			}
?>            
				<tr cliente_id="<?php echo($reg['id']); ?>" class="<?php echo($class_row); ?>" >
				  <td><?php echo($i); ?></td>
					<td><?php echo($reg['id']); ?></td>
					<td align="left"><?php echo($reg['nombre']); ?></td>
					<td><?php echo($reg['direccion']); ?></td>
					<td><?php echo($reg['pais_nombre']); ?></td>
					<td><?php echo($reg['telefono1']); ?></td>
					<td>
					<?php if ($reg['sincronizado']==0){ ?>
						<span class="glyphicon glyphicon-time icon-white" style="color:red"></span>
					<?php }else{ ?>
						<i class="glyphicon glyphicon-ok icon-white" style="color:green"></i>
					<?php }//end if ?>	
					</td>
					<td><?php echo($reg['fec_sincronizado']); ?></td>
					<td><?php echo($reg['estado']); ?></td>
					<td><a href="#" class="btn_edit"><i class="glyphicon glyphicon-pencil icon-white" style="color:orange"></i></a></td>
				</tr>
<?php	}//end foreach ?>		
			</tbody>
		</table>   
				
    </div>
    

     <!--  DIALOG DE MANTENIMIENTO -->
<div class="modal fade bs-example-modal-lg" id="dialog_mantenimiento" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
		      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        <h4 class="modal-title" id="myModalLabel">CLIENTE (<span id="dialog_mantenimiento_cliente_nombre"></span>)</h4>
		      </div>
			  <div id="tabs_mantenimiento_cliente" class="modal-body clearfix">
				  <!-- Nav tabs -->
				  <ul class="nav nav-tabs" role="tablist">
				    <li role="presentation" class="active"><a href="#tab_informacion_general" aria-controls="tab_informacion_general" role="tab" data-toggle="tab">INFORMACION GENERAL</a></li>
				    <li role="presentation"><a href="#tab_marcacion" aria-controls="tab_marcacion" role="tab" data-toggle="tab">MARCACION</a></li>
				    <li role="presentation"><a href="#tab_agencia_carga" aria-controls="tab_agencia_carga" role="tab" data-toggle="tab">AGENCIA DE CARGA</a></li>
				    <li role="presentation"><a href="#tab_usuarios" aria-controls="tab_usuarios" role="tab" data-toggle="tab">USUARIOS</a></li>
				  </ul>
			  		<!-- Tab panes -->
			  		<div class="tab-content">
		  				<div role="tabpanel" class="tab-pane active" id="tab_informacion_general">
		  					<br>
		  				<form id="frm_informacion_general">
					    	<table border="0" align="center" cellpadding="0" cellspacing="0" class="tbl_formulario_mantenimiento">
					        	     <tr>
					        	     <td><label class="control-label">ID:</label></td>
					        	     <td>
		                             <input id="cliente_id" name="cliente_id" type="text" class="form-control input-sm" style="width:65px" value="" maxlength="5" max-lenght="5" validate="required" validateMessage="Ingrese un codigo" onkeyup="this.value=this.value.toUpperCase()">
		                             <input type="hidden" name="accion" id="accion" value="" /></td>
				        	         </tr>
					        	     <tr>
					        	     <td><label class="control-label">NOMBRE:</label></td>
					        	     <td><input name="nombre" type="text" class="form-control input-sm" id="nombre" style="width:350px" value="" maxlength="50" max-lenght="50" validate="required" validateMessage="Ingrese un nombre" onkeyup="this.value=this.value.toUpperCase()"></td>
				        	         </tr>
				        	         <tr>
					        	     <td><label class="control-label">DIRECCION:</label></td>
					        	     <td><input name="direccion" type="text" class="form-control input-sm" id="direccion" style="width:350px" value="" maxlength="100" max-lenght="100"></td>
				        	         </tr>
				        	         <tr>
					        	     <td><label class="control-label">PAIS:</label></td>
					        	     <td><select  name="pais_id" class="select-class2" id="pais_id" validate="required" validateMessage="Seleccione Pais"></select></td>
				        	         </tr>
				        	         <tr>
					        	     <td><label class="control-label">CIUDAD:</label></td>
					        	     <td><input name="ciudad" type="text" class="form-control input-sm" id="ciudad" style="width:350px" value="" maxlength="50" max-lenght="50" validate="required" validateMessage="Ingrese una Ciudad" onkeyup="this.value=this.value.toUpperCase()"></td>
				        	         </tr>
				        	         <tr>
					        	     <td><label class="control-label">TELEFONO 1:</label></td>
					        	     <td><input name="telefono1" type="text" class="form-control input-sm" id="telefono1" style="width:350px" value="" maxlength="15" max-lenght="15" validate="required" validateMessage="Ingrese un Telefono"></td>
				        	         </tr>
				        	         <tr>
					        	      <td><label class="control-label">TELEFONO 2:</label></td>
					        	      <td><input name="telefono2" type="text" class="form-control input-sm " id="telefono2" style="width:350px" value="" maxlength="15" max-lenght="15" ></td>
				        	         </tr>
				        	          <tr>
					        	      <td><label class="control-label">FAX 1:</label></td>
					        	     <td><input name="fax1" type="text" id="fax1" class="form-control input-sm" style="width:350px" value="" maxlength="15" max-lenght="15" ></td>
				        	         </tr>
				        	         <tr>
					        	     <td><label class="control-label">FAX 2:</label></td>
					        	    <td><input name="fax2" type="text"  class="form-control input-sm" id="fax2" style="width:350px" value="" maxlength="15" max-lenght="15"></td>
				        	        </tr>
				        	        <tr>
					        	    <td><label class="control-label">CORREO:</label></td>
					        	    <td><input type="text" name="email"  class="form-control input-sm" id="email" style="width:350px" value="" maxlength="30" max-lenght="30"></td>
				        	        </tr>
				        	        <tr>
					        	    <td><label class="control-label">GRUPO PRECIO:</label></td>
					        	    <td><select  name="grupo_precio_cab_id" class="select-class2" id="grupo_precio_cab_id" validate="required" validateMessage="Seleccione Grupo Precio"></select></td>
				        	        </tr>
				        	       	<tr>
				        	        <td><label class="control-label">ESTADO:</label></td>
				        	        <td><select  name="estado" class="select-class2" id="estado"></select></td>
			        	          	</tr>	
			        	            <tr>
				        	        <td><label class="control-label">SINCRONIZADO:</label></td>
				        	        <td>
									<span id="sincronizado_pendiente" class="glyphicon glyphicon-time icon-white" style="color:red; display:none" ></span>
									<span id="sincronizado_ok" class="glyphicon glyphicon-ok icon-white" style="color:green; display:none"></span>
	                                <span id="lbl_fec_sincronizado"></span>
	                                </td>
			        	            </tr>        	   
				        	        <tr>
				        	        <td>&nbsp;</td>
				        	   	    <td>&nbsp;</td>
			        	       		</tr>
				        	     	<tr>
				        	        <td><label class="control-label">Ingreso:</label></td>
				        	        <td><b><span id="lbl_usuario_ing"></span></b> - <span id="lbl_fec_ingreso"></span></td>
			        	          	</tr>
				        	      	<tr>
				        	        <td><label class="control-label">Modificación:</label></td>
				        	        <td><b><span id="lbl_usuario_mod"></span></b> - <span id="lbl_fec_modifica"></span></td>
			        	         	</tr>
			        	  	</table>
			        	  	<br>
							<center>
							<a id="btn_grabar_informacion_general" class="btn btn-small btn-success" href="#"><i class="glyphicon glyphicon-plus icon-save"></i> Grabar</a>
							</center>
     						</form>
		  				</div>
				   	
					    	<div role="tabpanel" class="tab-pane" id="tab_marcacion">   
                            	<form id="frm_marcacion_listado">
                                     <div class="clearfix">
                                     	<div class="pull-left"><a id="btn_nueva_marcacion"  class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i> NUEVO</a></div>
                                        <div class="pull-right">
											<input name="busqueda_nombre" id="busqueda_nombre" type="text" class="select-class2" placeholder="Nombre" size="20" value="<?php echo($this->criterio_busqueda); ?>" />
                                            <select  name="busqueda_estado" id="busqueda_estado" class="select-class2">
                                                <?php echo($this->busqueda_estado); ?>
                                            </select>
                                            <a id="btn_consultar"  class="btn btn-success btn-xs"><i class="glyphicon glyphicon-search"></i></a>
                                        </div>
                                     </div>
                                     <div class="clearfix">
                                         <table id="grid_marcacion_listado" class="grid"></table>
                                         <div id="pager_marcacion_listado"></div>
									 </div>
                            	</form>		  		
					    	</div>
					    
					    <div role="tabpanel" class="tab-pane" id="tab_agencia_carga">
            				<!--  <p><a id="btn_nueva_agencia_carga"  class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i> NUEVO</a></p> -->
            				<div role="tabpanel" class="tab-pane" id="tab_agenciacarga">   
                            	<form id="frm_agenciacarga_listado">
                                     <div class="clearfix">
                                     	<div class="pull-left"><a id="btn_nueva_agencia_carga"  class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i> NUEVO</a></div>
                                        <div class="pull-right">
											<input name="busqueda_nombre" id="busqueda_nombre" type="text" class="select-class2" placeholder="Nombre" size="20" value="<?php echo($this->criterio_busqueda); ?>" />
                                            <select  name="busqueda_estado" id="busqueda_estado" class="select-class2">
                                                <?php echo($this->busqueda_estado); ?>
                                            </select>
                                            <a id="btn_consultar_agencia"  class="btn btn-success btn-xs"><i class="glyphicon glyphicon-search"></i></a>
                                        </div>
                                     </div>
                                     <div class="clearfix">
                                         <table id="grid_agenciacarga_listado" class="grid"></table>
                                         <div id="pager_agenciacarga_listado"></div>
									 </div>
                            	</form>		  		
					    	</div>
					   	</div>
					   	
					    <div role="tabpanel" class="tab-pane" id="tab_usuarios">
					     		<div role="tabpanel" class="tab-pane" id="tab_usuario">   
                            	<form id="frm_usuario_listado">
                                     <div class="clearfix">
                                     	<div class="pull-left"><a id="btn_nuevo_usuario"  class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i> NUEVO</a></div>
                                        <div class="pull-right">
											<input name="busqueda_nombre" id="busqueda_nombre" type="text" class="select-class2" placeholder="Nombre" size="20" value="<?php echo($this->criterio_busqueda); ?>" />
                                            <select  name="busqueda_estado" id="busqueda_estado" class="select-class2">
                                                <?php echo($this->busqueda_estado); ?>
                                            </select>
                                            <a id="btn_consultar_usuario"  class="btn btn-success btn-xs"><i class="glyphicon glyphicon-search"></i></a>
                                        </div>
                                     </div>
                                     <div class="clearfix">
                                         <table id="grid_usuario_listado" class="grid"></table>
                                         <div id="pager_usuario_listado"></div>
									 </div>
                            	</form>		  		
					    	</div>
					 	</div>
					</div>
			   </div>
		</div>
	</div>
</div>

		
		
		 <!--  DIALOG DE NUEVA MARCACION-->

			<div class="modal fade" id="dialog_nueva_marcacion" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        <h4 class="modal-title" id="myModalLabel">MARCACION (<span id="dialog_nueva_marcacion_nombre"></span>)</h4>
			      </div>
			      <div class="modal-body clearfix">
			        <div class="clearfix">
               				<br>
		  				<form id="frm_marcacion" name="frm_marcacion">
					    	<table border="0" align="center" cellpadding="0" cellspacing="0" class="clear tablesorter">
				        	      <tr>
				        	        <td><label class="control-label">ID:</label></td>
				        	        <td>
	                                <input id="marcacion_sec" name="marcacion_sec" type="text" class="form-control input-sm" style="width:50px" value="" maxlength="11" max-lenght="11" disabled >
	                               <input type="hidden" name="accion" id="accion" value="" /></td>
			        	          </tr>
				        	      <tr>
				        	        <td>
	                                <input id="cliente_id" name="cliente_id" type="hidden" class="form-control input-sm" style="width:50px" value="" maxlength="5" max-lenght="5" disabled >
	                                <input type="hidden" name="accion" id="accion" value="" /></td>
			        	          </tr>
				        	        <td><label class="control-label">NOMBRE:</label></td>
				        	        <td><input name="nombre" type="text" class="form-control input-sm" id="nombre" style="width:350px" value="" maxlength="60" max-lenght="60" validate="required" validateMessage="Ingrese un nombre" onkeyup="this.value=this.value.toUpperCase()"></td>
			        	          </tr>
			        	          <tr>
				        	        <td><label class="control-label">DIRECCION:</label></td>
				        	        <td><input name="direccion" type="text" class="form-control input-sm" id="direccion" style="width:350px" value="" maxlength="40" max-lenght="40"></td>
			        	         </tr>
			        	         <tr>
				        	        <td><label class="control-label">PAIS:</label></td>
				        	        <td><select  name="pais_id" class="select-class2" id="pais_id" validate="required" validateMessage="Seleccione Pais"></select></td>
			        	         </tr>
			        	          <tr>
				        	        <td><label class="control-label">CIUDAD:</label></td>
				        	        <td><input name="ciudad" type="text" class="form-control input-sm" id="ciudad" style="width:350px" value="" maxlength="30" max-lenght="30" validate="required" validateMessage="Ingrese una Ciudad" onkeyup="this.value=this.value.toUpperCase()"></td>
			        	         </tr>
			        	         <tr>
				        	        <td><label class="control-label">CONTACTO:</label></td>
				        	        <td><input name="contacto" type="text" class="form-control input-sm" id="contacto" style="width:350px" value="" maxlength="30" max-lenght="30" validate="required" validateMessage="Ingrese un Telefono"></td>
			        	         </tr>
			        	         <tr>
				        	        <td><label class="control-label">TELEFONO:</label></td>
				        	        <td><input name="telefono" type="text" class="form-control input-sm " id="telefono" style="width:350px" value="" maxlength="13" max-lenght="13" ></td>
			        	         </tr>
			        	          <tr>
				        	        <td><label class="control-label">ZIP:</label></td>
				        	        <td><input name="zip" type="text" id="zip" class="form-control input-sm" style="width:350px" value="" maxlength="9" max-lenght="9" ></td>
			        	         </tr>
			        	       <tr>
			        	        <td><label class="control-label">ESTADO:</label></td>
			        	        <td><select  name="estado" class="select-class2" id="estado" ></select></td>
		        	          </tr>	
		        	            <tr>
			        	        <td><label class="control-label">SINCRONIZADO:</label></td>
			        	        <td>
								<span id="sincronizado_pendiente" class="glyphicon glyphicon-time icon-white" style="color:red; display:none" ></span>
								<span id="sincronizado_ok" class="glyphicon glyphicon-ok icon-white" style="color:green; display:none"></span>
                                <span id="lbl_fec_sincronizado"></span>
                                </td>
		        	          </tr>        	   
			        	      <tr>
			        	        <td>&nbsp;</td>
			        	        <td>&nbsp;</td>
		        	        </tr>
			        	      <tr>
			        	        <td><label class="control-label">Ingreso:</label></td>
			        	        <td><b><span id="lbl_usuario_ing"></span></b> - <span id="lbl_fec_ingreso"></span></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">Modificación:</label></td>
			        	        <td><b><span id="lbl_usuario_mod"></span></b> - <span id="lbl_fec_modifica"></span></td>
		        	          </tr>
			        	  	</table>
			        	  	<br>
							<center>
							<p><a id="btn_grabar_marcacion"   role="button"   class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-plus"></i> GRABAR</a></p>
							</center>
     						</form>
					     
		        	  <!--   div id="dialog_oferta_formulario"></div -->			
			        </div>
			      </div>
			    </div>
			  </div>
			</div>




			
<!--  DIALOG DE AGENCIA CARGA -->
           
			<div class="modal fade" id="dialog_nueva_agenciacarga" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        <h4 class="modal-title" id="myModalLabel">AGENCIA DE CARGA (<span id="dialog_nueva_agenciacarga_nombre"></span>)</h4>
			      </div>
			      <div class="modal-body clearfix">
			        <div class="clearfix">
                         <form id="frm_agencia_carga">
			        	 <table border="0" align="center" cellpadding="0" cellspacing="0" class="clear tablesorter">
			        	      <tr>
			        	        <td><label class="control-label">ID:</label></td>
			        	        <td>
                                <input id="agencia_carga_id" name="agencia_carga_id" type="text" class="form-control input-sm" style="width:50px" value="" maxlength="3" max-lenght="3" validate="required" validateMessage="Ingrese un codigo" onkeyup="this.value=this.value.toUpperCase()">
                                <input type="hidden" name="accion" id="accion" value="" /></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">NOMBRE:</label></td>
			        	        <td><input name="nombre" type="text" class="form-control input-sm" id="nombre" style="width:350px" value="" maxlength="30" max-lenght="30" validate="required" validateMessage="Ingrese un nombre" onkeyup="this.value=this.value.toUpperCase()"></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">DIRECCION:</label></td>
			        	        <td><input name="direccion" type="text" class="form-control input-sm" id="direccion" style="width:350px" value="" maxlength="30" max-lenght="30"></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">TELEFONO:</label></td>
			        	        <td><input type="text" name="telefono"  class="form-control input-sm inputdata-number-and-decimal" id="telefono" style="width:350px" value="" maxlength="15" max-lenght="15" ></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">TIPO:</label></td>
			        	        <td><select  name="tipo" class="select-class2" id="tipo"></select></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">ESTADO:</label></td>
			        	        <td><select  name="estado" class="select-class2" id="estado"></select></td>
		        	          </tr>
			        	      <tr>
			        	        <td>&nbsp;</td>
			        	        <td>&nbsp;</td>
		        	        </tr>
			        	      <tr>
			        	        <td><label class="control-label">SINCRONIZADO:</label></td>
			        	        <td>
 
									<span id="sincronizado_pendiente" class="glyphicon glyphicon-time icon-white" style="color:red; display:none" ></span>
									<span id="sincronizado_ok" class="glyphicon glyphicon-ok icon-white" style="color:green; display:none"></span>
                                    <span id="lbl_fec_sincronizado"></span>
 
                                </td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">Ingreso:</label></td>
			        	        <td><b><span id="lbl_usuario_ing"></span></b> - <span id="lbl_fec_ingreso"></span></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">Modificación:</label></td>
			        	        <td><b><span id="lbl_usuario_mod"></span></b> - <span id="lbl_fec_modifica"></span></td>
		        	          </tr>
	        	      </table>
                      <br><center>
						<a id="btn_grabar_agencia_carga" class="btn btn-small btn-success " href="#"><i class="glyphicon glyphicon-plus icon-save"></i> Grabar</a>
     					</center>
                      		</form>
		        	  <!--   div id="dialog_oferta_formulario"></div -->			
			        </div>
			      </div>
			    </div>
			  </div>
			</div>
	
	
	

   <!--  DIALOG DE USUARIO NUEVO -->
            
			<div class="modal fade" id="dialog_nuevo_usuario" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        <h4 class="modal-title" id="myModalLabel">USUARIO(<span id="dialog_nuevo_usuario_nombre"></span>)</h4>
			      </div>
			      <div class="modal-body clearfix">
			        <div class="clearfix">
                        <form id="frm_nuevo_usuario">
			        	  <table border="0" align="center" cellpadding="0" cellspacing="0" class="tbl_formulario_mantenimiento">
			        	      <tr>
			        	        <td><label class="control-label">ID:</label></td>
			        	        <td>
                                <input id="usuario_id" name="usuario_id" type="text" class="form-control input-sm" style="width:50px" value="" maxlength="3" max-lenght="3" disabled="disabled">
                                <input type="hidden" name="accion" id="accion" value="" /></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">NOMBRE:</label></td>
			        	        <td><input name="nombre" type="text" class="form-control input-sm" id="nombre" style="width:350px" value="" maxlength="50" max-lenght="3" validate="required" validateMessage="Ingrese un nombre" onkeyup="this.value=this.value.toUpperCase()" ></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">USUARIO:</label></td>
			        	        <td><input name="username" type="text" class="form-control input-sm" id="username" style="width:350px" value="" maxlength="20" validate="required" max-lenght="3"></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">CLAVE:</label></td>
			        	        <td><input type="password" name="password"  class="form-control input-sm" id="password" style="width:350px" value="" maxlength="15"></td>
		        	          </tr>
		        	           <tr>
			        	        <td><label class="control-label">CONFIRMAR CLAVE:</label></td>
			        	        <td><input type="password" name="password2"  class="form-control input-sm" id="password2" style="width:350px" value="" maxlength="15"></td>
		        	          </tr>
		        	           <tr>
			        	        <td><label class="control-label">CORREO:</label></td>
			        	        <td><input type="email" name="email"  class="form-control input-sm" id="email" style="width:350px" value="" maxlength="50" validate="required" max-lenght="3" ></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">TIPO:</label></td>
			        	        <td><select  name="perfil_id" class="select-class2" id="perfil_id" validate="required"></select></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">ESTADO:</label></td>
			        	        <td><select  name="estado" class="select-class2" id="estado"></select></td>
		        	          </tr>
			        	      <tr>
			        	        <td>&nbsp;</td>
			        	        <td>&nbsp;</td>
		        	        </tr>
			        	  
			        	      <tr>
			        	        <td><label class="control-label">Ingreso:</label></td>
			        	        <td><b><span id="lbl_usuario_ing"></span></b> - <span id="lbl_fec_ingreso"></span></td>
		        	          </tr>
			        	      <tr>
			        	        <td><label class="control-label">Modificación:</label></td>
			        	        <td><b><span id="lbl_usuario_mod"></span></b> - <span id="lbl_fec_modifica"></span></td>
		        	          </tr>
	        	      </table>
                      <br>
						<center><a id="btn_grabar_usuario" class="btn btn-small btn-success" href="#"><i class="glyphicon glyphicon-plus icon-save"></i> Grabar</a></center>
                      	</form>
		        	  <!--   div id="dialog_oferta_formulario"></div -->			
			        </div>
			      </div>
			    </div>
			  </div>
			</div>
		